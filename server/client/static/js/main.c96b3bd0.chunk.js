(this["webpackJsonpcontroll-document"]=this["webpackJsonpcontroll-document"]||[]).push([[0],{15:function(e){e.exports=JSON.parse('{"apiPath":"http://192.168.0.7:4000/api","isFireBase":false}')},76:function(e,t,n){},77:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){},95:function(e,t,n){},96:function(e,t,n){},97:function(e,t,n){},99:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(16),s=n.n(c),i=n(1),o=function(){return Object(i.jsx)("h1",{className:"d-flex align-items-center justify-content-center mt-5 pt-5",children:"info"})},u=n(2),l=n.n(u),d=n(5),b=n(8),j=n(6),p=n(4),f=n(11),m=n(19),x=n.n(m),h=n(14),O="jwt-token",v="jwt-refresh-token",g="jwt-expires",y="user-local-id";function k(e){var t=e.refreshToken,n=e.accessToken,r=e.userId,a=e.expiresIn,c=void 0===a?3600:a,s=(new Date).getTime()+1e3*c;localStorage.setItem(y,r),localStorage.setItem(O,n),localStorage.setItem(v,t),localStorage.setItem(g,s)}var w={setTokens:k,getAccessToken:function(){return localStorage.getItem(O)},getRefreshToken:function(){return localStorage.getItem(v)},getTokenExpiresDate:function(){return localStorage.getItem(g)},getUserId:function(){return localStorage.getItem(y)},removeAuthData:function(){localStorage.removeItem(y),localStorage.removeItem(O),localStorage.removeItem(v),localStorage.removeItem(g)}},N=n(15),S=x.a.create({baseURL:N.apiPath}),D={refresh:function(){var e=Object(d.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.post("/auth/token",{grant_type:"refresh_token",refresh_token:w.getRefreshToken()});case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()};S.interceptors.request.use(function(){var e=Object(d.a)(l.a.mark((function e(t){var n,r,a,c,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=w.getTokenExpiresDate(),r=w.getRefreshToken(),!N.isFireBase){e.next=7;break}a=/\/$/gi.test(t.url),t.url=(a?t.url.slice(0,-1):t.url)+".json",e.next=14;break;case 7:if(!(r&&n<Date.now())){e.next=12;break}return e.next=10,D.refresh();case 10:c=e.sent,w.setTokens(c);case 12:(s=w.getAccessToken())&&(t.params=Object(j.a)(Object(j.a)({},t.params),{},{Authorization:"Bearer ".concat(s)}));case 14:return e.abrupt("return",t);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){return Promise.reject(e)})),S.interceptors.response.use((function(e){var t;return N.isFireBase&&(e.data={content:(t=e.data,t&&!t.id?Object.keys(t).map((function(e){return Object(j.a)({},t[e])})):t)}),e.data={content:e.data},e}),(function(e){return e.response&&e.response.status>=400&&e.response.status<500||(console.log(e),h.a.error("Unexpected error \u0438\u043b\u0438 \u0437\u043b\u0430\u044f \u043e\u0448\u0438\u0431\u043a\u0430")),Promise.reject(e)}));var C={get:S.get,post:S.post,put:S.put,delete:S.delete,patch:S.patch},I="/user/",E="/administrator/",_={get:function(){var e=Object(d.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.get(I);case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),create:function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.put(I+t._id,t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),createAdmin:function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.put(E+t._id,t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getCurrentUser:function(){var e=Object(d.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.get(I);case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getCurrentAdmin:function(){var e=Object(d.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.get(E);case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},A=n(7),U=["email","password"],L=["email","password"],P=x.a.create({baseURL:N.apiPath+"/auth/"}),W=a.a.createContext(),R=function(){return Object(r.useContext)(W)},T=function(e){var t=e.children,n=Object(r.useState)(null),a=Object(p.a)(n,2),c=a[0],s=a[1],o=Object(r.useState)(),u=Object(p.a)(o,2),b=u[0],m=u[1],x=Object(r.useState)(!0),O=Object(p.a)(x,2),v=O[0],g=O[1],y=Object(r.useState)(),N=Object(p.a)(y,2),S=N[0],D=N[1],C=Object(A.useHistory)();function I(){return(I=Object(d.a)(l.a.mark((function e(t){var n,r,a,c,s,i,o,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.email,r=t.password,a=Object(f.a)(t,U),"signUp",e.prev=2,e.next=5,P.post("signUp",Object(j.a)({email:n,password:r},a));case 5:return c=e.sent,k(s=c.data),e.next=10,F(Object(j.a)({_id:s.userId,email:n},a));case 10:e.next=21;break;case 12:if(e.prev=12,e.t0=e.catch(2),q(e.t0),i=e.t0.response.data.error,o=i.code,u=i.message,400!==o){e.next=21;break}if("INVALID_EMAIL"!==u){e.next=19;break}throw new Error("\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441 \u0442\u0430\u043a\u0438\u043c Email \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442");case 19:if("INVALID_PASSWORD"!==u){e.next=21;break}throw new Error("\u041f\u0430\u0440\u043e\u043b\u044c \u0432\u0432\u0435\u0434\u0435\u043d \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e");case 21:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}function E(){return(E=Object(d.a)(l.a.mark((function e(t){var n,r,a,c,s,i,o,u;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.email,r=t.password,a=Object(f.a)(t,L),"signUp",e.prev=2,e.next=5,P.post("signUp",Object(j.a)({email:n,password:r},a));case 5:return c=e.sent,k(s=c.data),e.next=10,V(Object(j.a)({_id:s.userId,email:n},a));case 10:e.next=21;break;case 12:if(e.prev=12,e.t0=e.catch(2),q(e.t0),i=e.t0.response.data.error,o=i.code,u=i.message,400!==o){e.next=21;break}if("INVALID_EMAIL"!==u){e.next=19;break}throw new Error("\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441 \u0442\u0430\u043a\u0438\u043c Email \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442");case 19:if("INVALID_PASSWORD"!==u){e.next=21;break}throw new Error("\u041f\u0430\u0440\u043e\u043b\u044c \u0432\u0432\u0435\u0434\u0435\u043d \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e");case 21:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}function R(){return(R=Object(d.a)(l.a.mark((function e(t){var n,r,a,c,s,i,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.email,r=t.password,a=t.formType,"signInWithPassword",e.prev=2,e.next=5,P.post("signInWithPassword",{email:n,password:r,formType:a});case 5:return c=e.sent,k(c.data),e.next=10,J();case 10:e.next=21;break;case 12:if(e.prev=12,e.t0=e.catch(2),q(e.t0),s=e.t0.response.data.error,i=s.code,o=s.message,400!==i){e.next=21;break}if("INVALID_EMAIL"!==o){e.next=19;break}throw new Error("\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441 \u0442\u0430\u043a\u0438\u043c Email \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442");case 19:if("INVALID_PASSWORD"!==o){e.next=21;break}throw new Error("\u041f\u0430\u0440\u043e\u043b\u044c \u0432\u0432\u0435\u0434\u0435\u043d \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e");case 21:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}function T(){return(T=Object(d.a)(l.a.mark((function e(t){var n,r,a,c,s,i,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.email,r=t.password,a=t.formType,"signInWithPassword",e.prev=2,e.next=5,P.post("signInWithPassword",{email:n,password:r,formType:a});case 5:return c=e.sent,k(c.data),e.next=10,B();case 10:e.next=21;break;case 12:if(e.prev=12,e.t0=e.catch(2),q(e.t0),s=e.t0.response.data.error,i=s.code,o=s.message,400!==i){e.next=21;break}if("INVALID_EMAIL"!==o){e.next=19;break}throw new Error("\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441 \u0442\u0430\u043a\u0438\u043c Email \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442");case 19:if("INVALID_PASSWORD"!==o){e.next=21;break}throw new Error("\u041f\u0430\u0440\u043e\u043b\u044c \u0432\u0432\u0435\u0434\u0435\u043d \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e");case 21:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}function F(e){return M.apply(this,arguments)}function M(){return(M=Object(d.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.create(t);case 3:n=e.sent,r=n.content,m(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),q(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function V(e){return z.apply(this,arguments)}function z(){return(z=Object(d.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.createAdmin(t);case 3:n=e.sent,r=n.content,m(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),q(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function q(e){var t=e.response.data.message;s(t)}function B(){return H.apply(this,arguments)}function H(){return(H=Object(d.a)(l.a.mark((function e(){var t,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.getCurrentUser();case 3:t=e.sent,n=t.content,r=n.find((function(e){return e._id===w.getUserId()})),m(r),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),q(e.t0);case 12:return e.prev=12,g(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})))).apply(this,arguments)}function J(){return $.apply(this,arguments)}function $(){return($=Object(d.a)(l.a.mark((function e(){var t,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.getCurrentAdmin();case 3:return t=e.sent,n=t.content,e.next=7,n.find((function(e){return e._id===w.getUserId()}));case 7:r=e.sent,D(n),m(r),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),q(e.t0);case 15:return e.prev=15,g(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[0,12,15,18]])})))).apply(this,arguments)}return Object(r.useEffect)((function(){J()}),[]),Object(r.useEffect)((function(){if(w.getAccessToken()){if(void 0!==S){var e=S.find((function(e){return e._id===w.getUserId()}));m(e)}B(),J()}else g(!1)}),[]),Object(r.useEffect)((function(){null!==c&&(Object(h.a)(c),s(null))}),[c]),Object(i.jsx)(W.Provider,{value:{signIn:function(e){return T.apply(this,arguments)},signUp:function(e){return I.apply(this,arguments)},currentUser:b,logOut:function(){w.removeAuthData(),m(null),C.push("/login")},signInAdmin:function(e){return R.apply(this,arguments)},signUpAdmin:function(e){return E.apply(this,arguments)}},children:v?"\u0418\u0434\u0435\u0442 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430":t})};function F(e,t){var n={};function r(e,t,n){var r;switch(e){case"isRequired":r="boolean"===typeof t?!t:""===t.trim();break;case"isEmail":r=!/^\S+@\S+\.\S+$/g.test(t);break;case"isCapitalSymbol":r=!/[A-Z]+/g.test(t);break;case"isContainDigit":r=!/\d+/g.test(t);break;case"min":r=t.length<n.value}if(r)return n.message}for(var a in e)for(var c in t[a]){var s=r(c,e[a],t[a][c]);s&&!n[a]&&(n[a]=s)}return n}var M=n(43),V=function(e){var t=e.name,n=e.value,r=e.onChange,a=e.styleInput,c=e.nameLabel,s=e.description,o=e.type;return Object(i.jsxs)("div",{className:"d-flex flex-column-reverse align-items-center m-2",children:[Object(i.jsx)("input",{className:"p-1",style:a,type:o,id:t,name:t,value:n,onChange:r,placeholder:s}),Object(i.jsx)("label",{style:{fontSize:"20px",color:"grey"},className:"mb-3",htmlFor:t,children:c})]})},z=function(e){var t=e.handleChange,n=e.handleSubmit,r=e.errorMessage,a=e.data,c=e.isValid,s=e.inputstyle;return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("form",{style:{width:"20"},onSubmit:n,className:"d-flex flex-column align-items-center p-4 mt-5",children:[r&&Object(i.jsx)("p",{className:"text-danger",children:r}),Object(i.jsx)(V,{name:"email",value:a.email,onChange:t,styleInput:s,nameLabel:"\u041b\u043e\u0433\u0438\u043d \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",description:"\u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043b\u043e\u0433\u0438\u043d",type:"text"}),Object(i.jsx)(V,{name:"password",value:a.password,onChange:t,styleInput:s,nameLabel:"\u041f\u0430\u0440\u043e\u043b\u044c",description:"\u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",type:"text"}),Object(i.jsx)("button",{style:{border:"none",boxShadow:"0px 0px 34px #d1cbcb"},className:"btn btn-outline-secondary mt-4 d-md-flex justify-content-md-center",type:"submit",disabled:!c||r,children:"\u0432\u0432\u0435\u0441\u0442\u0438 \u0434\u0430\u043d\u043d\u044b\u0435"})]})})},q=function(e){var t=e.handleChange,n=e.handleSubmit,r=e.errorMessage,a=e.data,c=e.isValid,s=e.inputstyle;return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("form",{style:{width:"20%"},onSubmit:n,className:"d-flex flex-column align-items-center p-4 mt-5",children:[r&&Object(i.jsx)("p",{className:"text-danger",children:r}),Object(i.jsx)(V,{name:"email",value:a.email,onChange:t,styleInput:s,nameLabel:"\u0412\u0445\u043e\u0434 \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0430",description:"\u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043b\u043e\u0433\u0438\u043d",type:"text"}),Object(i.jsx)(V,{name:"password",value:a.password,onChange:t,styleInput:s,nameLabel:"\u041f\u0430\u0440\u043e\u043b\u044c",description:"\u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",type:"text"}),Object(i.jsx)("button",{style:{border:"none",boxShadow:"0px 0px 34px #d1cbcb"},className:"btn btn-outline-secondary mt-4 d-md-flex justify-content-md-center",type:"submit",disabled:!c||r,children:"\u0432\u0432\u0435\u0441\u0442\u0438 \u0434\u0430\u043d\u043d\u044b\u0435"})]})})},B=function(){var e=Object(A.useParams)().type,t=Object(r.useState)("registerAdmin"===e?e:"login"),n=Object(p.a)(t,2),a=n[0],c=n[1],s=Object(r.useState)({email:"",password:"",formType:a}),o=Object(p.a)(s,2),u=o[0],f=o[1],m=Object(r.useState)({}),x=Object(p.a)(m,2),h=x[0],O=x[1],v=Object(r.useState)(null),g=Object(p.a)(v,2),y=g[0],k=g[1],w=Object(M.useHistory)(),N=R(),S=N.signIn,D=N.signInAdmin,C=function(e){c((function(e){return"registerAdmin"===e?"login":"registerAdmin"}))},I=function(e){var t=e.target;f((function(e){return Object(j.a)(Object(j.a)({},e),{},Object(b.a)({},t.name,t.value))})),k(null)},E={email:{isRequired:{message:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u0430 \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"}},password:{isRequired:{message:"\u041f\u0430\u0440\u043e\u043b\u044c \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u0430 \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"}}};Object(r.useEffect)((function(){_()}),[u]);var _=function(){var e=F(u,E);return O(e),0===Object.keys(e).length},U=0===Object.keys(h).length,L=function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),_()){e.next=4;break}return e.abrupt("return");case 4:if(e.prev=4,n=Object(j.a)(Object(j.a)({},u),{},{formType:a}),"registerAdmin"!==a){e.next=10;break}return e.next=9,D(n);case 9:return e.abrupt("return",w.push("/"));case 10:if("login"!==a){e.next=14;break}return e.next=13,S(n);case 13:w.push("/information");case 14:e.next=20;break;case 16:e.prev=16,e.t0=e.catch(4),O(e.t0),k(e.t0.message);case 20:return e.prev=20,f({email:"",password:""}),e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[4,16,20,23]])})));return function(t){return e.apply(this,arguments)}}(),P={textAlign:"center",padding:"8px",borderRadius:"12px",border:"none",outline:"none",boxShadow:"1px 1px 14px #d1cbcb"};return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)("div",{className:"d-flex flex-column-reverse align-items-center m-4",children:"registerAdmin"===a?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("p",{children:["\u0415\u0441\u043b\u0438 \u0442\u044b \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440",Object(i.jsx)("a",{role:"button",onClick:C,children:"\xa0 \u0412\u043e\u0439\u0442\u0438"})]}),Object(i.jsx)(q,{handleChange:I,handleSubmit:L,errorMessage:y,data:u,inputstyle:P,isValid:U})]}):Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("p",{children:["\u0412\u0445\u043e\u0434 \u0434\u043b\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",Object(i.jsx)("a",{role:"button",onClick:C,children:"\xa0 \u0412\u043e\u0439\u0442\u0438"})]}),Object(i.jsx)(z,{handleChange:I,handleSubmit:L,errorMessage:y,data:u,inputstyle:P,isValid:U})]})})})},H=n(9),J=function(){var e=R().currentUser,t=Object(r.useState)(!1),n=Object(p.a)(t,2),a=n[0],c=n[1];return Object(i.jsxs)("div",{className:"dropdown",onClick:function(){c((function(e){return!e}))},children:[Object(i.jsx)("div",{className:"btn dropdown-toggle d-flex align-items-center",children:Object(i.jsx)("p",{className:"m-0",style:{fontSize:"24px"},children:e.name})}),Object(i.jsxs)("div",{className:"w-100 dropdown-menu"+(a?" show":""),children:[Object(i.jsx)(H.b,{to:"/userlist/".concat(e._id),className:"dropdown-item",children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"}),Object(i.jsx)(H.b,{to:"logout",className:"dropdown-item",children:"\u0412\u044b\u0439\u0442\u0438"})]})]})},$=function(){var e=R().currentUser,t={color:"black",opacity:"0.6",fontSize:"1.5em",fontWeight:"bold",textShadow:"1px 0px 15px #d1cbcb, 0px 0px 40px white",textDecoration:"none"};return Object(i.jsx)("nav",{className:"navbar",children:Object(i.jsx)("div",{className:"container-fluid  m-4 bg-secondary bg-gradien bg-opacity-10 p-4 shadow",children:Object(i.jsx)("ul",{className:"d-flex justify-content-between m-0",style:{width:"90%"},children:[{link:"/",description:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430"},{link:"/information",description:"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"},{link:"/login",description:"\u041b\u043e\u0433\u0438\u043d"}].map((function(n){return Object(i.jsxs)("li",{style:{listStyle:"none"},children:[" ","/login"===n.link&&e?Object(i.jsx)(J,{}):Object(i.jsx)(H.b,{style:t,to:n.link,children:n.description})]},n.description)}))})})})},Z=(n(76),function(){var e=R().currentUser;return Object(i.jsx)("thead",{className:"theaderStyle",children:Object(i.jsxs)("tr",{children:[Object(i.jsx)("th",{children:"\u043d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430"}),Object(i.jsxs)("th",{children:["\u2116 ",Object(i.jsx)("nobr",{children:"\u0434\u043e\u043a-\u0442\u0430"})]}),Object(i.jsx)("th",{children:"\u0434\u0430\u0442\u0430 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430"}),Object(i.jsx)("th",{children:"\u043f\u0443\u043d\u043a\u0442"}),Object(i.jsx)("th",{children:"\u043c\u0435\u0440\u043e\u043f\u0440\u0438\u044f\u0442\u0438\u0435"}),Object(i.jsx)("th",{children:"\u0434\u043e\u043b\u043e\u0436\u0438\u0442\u044c \u043d\u0430 \u0438\u043c\u044f"}),Object(i.jsx)("th",{children:"\u0441\u0440\u043e\u043a \u0438\u0441\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"}),e&&"admin"===e.type&&Object(i.jsx)("th",{children:"\u0443\u0434\u0430\u043b\u0438\u0442\u044c"}),Object(i.jsx)("th",{children:"\u0438\u0441\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c"})]})})}),G=function(e){var t,n=e.split(","),r=Date.parse(new Date(n[0],n[1]-1,n[2]))-Date.parse(new Date),a=r/864e5,c=Math.floor(r/36e5%24);return a>0&&a<1?c+" \u0447.":1===(t=Math.floor(a))||t>1&&t<5||t>4||t<21?"".concat(t," \u0434."):void 0},K=(n(77),function(e){var t,n=e.id,r=e.executor,a=e.keys;return Object(i.jsx)("span",{children:(t=n,r.map((function(e){return e._id===t?e.name:"object"===typeof t?t.map((function(t){return t===e._id?e.name+"; ":null})):null})))},a)}),Q=function(e){var t=e.data,n=e.executor,r=e.removeExecutor,a=(e.setCurrenElem,R().currentUser);function c(e){return function(e){var t=Date.parse(new Date),n=Date.parse(e)-t;return Math.floor(n/864e5)}(e.split(".").reverse().join("."))>1?{background:"#ffffff"}:{background:"#ed382b5d"}}return Object(i.jsx)("tbody",{className:"tbodyStyle",children:t.map((function(e,t){return 0!==e.inWork.length&&Object(i.jsxs)("tr",{style:0!==e.inWork.length?c(e.periodOfExecution):{background:"#9df2bf6a"},children:[Object(i.jsx)("td",{children:e.nameDoc}),Object(i.jsxs)("td",{children:["\u2116 ",e.numberDoc]}),Object(i.jsx)("td",{children:e.dateDoc}),Object(i.jsx)("td",{children:e.punctDoc}),Object(i.jsx)("td",{style:{maxWidth:"80vw",minWidth:"20vw"},children:Object(i.jsx)(H.b,{to:"/".concat(e._id),className:"dark",children:e.executionOrder})}),Object(i.jsx)("td",{children:e.nameInitiator}),Object(i.jsxs)("td",{children:[e.periodOfExecution," ",Object(i.jsx)("br",{}),0===e.inWork.length?" \u043f\u0440\u043e\u0448\u043b\u043e":" \u043e\u0441\u0442\u0430\u043b\u043e\u0441\u044c"," ",Object(i.jsx)("br",{}),(s=e.periodOfExecution,G(s.split(".").reverse().join(",")))]}),a&&"admin"===a.type&&Object(i.jsx)("td",{children:0!==e.inWork.length&&Object(i.jsx)("button",{onClick:function(){return function(e){r(e)}(e)},className:"btn btn-light p-1 m-1 hoverz",children:"\u0441\u043d\u044f\u0442\u044c \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c"})}),0!==e.inWork.length?Object(i.jsx)("td",{children:Object(i.jsx)(K,{keys:e._id,id:e.inWork,executor:n})}):Object(i.jsx)("td",{className:"event-complete",children:Object(i.jsx)("span",{children:"\u043c\u0435\u0440\u043e\u043f\u0440\u0438\u044f\u0442\u0438\u0435 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e"})})]},e.id);var s}))})},X=n(26),Y=n.n(X),ee=function(e){var t=e.itemsCount,n=e.pageSize,r=e.onPageChange,a=e.currentPage,c=e.nextPage,s=e.prevPage,o=Math.ceil(t/n),u=Y.a.range(1,o+1);return Object(i.jsx)(i.Fragment,{children:o>1?Object(i.jsx)("nav",{"aria-label":"d-flex Page navigation example",style:{gridColumnStart:2},children:Object(i.jsxs)("ul",{className:"pagination justify-content-center",children:[Object(i.jsx)("li",{className:"page-item "+(1===a?"disabled":""),children:Object(i.jsx)("a",{className:"page-link",onClick:s,children:"\u041f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0430\u044f"})}),u.map((function(e){return Object(i.jsx)("li",{className:"page-item ",children:Object(i.jsx)("a",{className:"page-link "+(e===a?"bg-secondary":""),onClick:function(){return r(e)},style:{color:"red"},children:e})},e)})),Object(i.jsx)("li",{className:"page-item "+(a===o?"disabled":""),children:Object(i.jsx)("a",{className:"page-link ",href:"#",onClick:c,children:"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0430\u044f"})})]})}):null})};n(79);var te=function(e){var t=e.item,n=e.onItemSelect,r=e.selectExecutor,a=e.handleResetFilter;return Object(i.jsxs)("div",{children:[Object(i.jsx)("ul",{className:"list-group list-group-flush",style:{marginRight:"1em"},children:Object.values(t).map((function(e){return Object(i.jsx)("li",{className:"list-group-item ".concat((t=e._id,r&&r._id===t?"styleText":"")),role:"button",onClick:function(){return n(e)},children:e.name},e._id);var t}))}),Object(i.jsx)("button",{className:"btn btn-outline-secondary mt-2",style:{marginRight:"1em"},onClick:a,children:"\u0432\u0441\u0435 \u0438\u0441\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u0438"})]})},ne=(n(80),n(30)),re=n(44),ae=function(e){var t=e.options,n=e.onChange,r=e.name,a=e.label,c=e.style,s=Array.isArray(t)||"object"!==typeof t?t:Object.keys(t).map((function(e){return{label:t[e].name,value:t[e].id}}));return Object(i.jsxs)("div",{className:c,children:[Object(i.jsxs)("label",{children:[" ",a]}),Object(i.jsx)(re.a,{isMulti:!0,closeMenuOnSelect:!1,options:s,className:"basic-multi-select",classNamePrefix:"select",onChange:function(e){n({name:r,value:e})},name:r})]})},ce={get:function(){var e=Object(d.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.get("executor/");case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},se=a.a.createContext(),ie=function(){return Object(r.useContext)(se)},oe=function(e){var t=e.children,n=Object(r.useState)(null),a=Object(p.a)(n,2),c=a[0],s=a[1],o=Object(r.useState)(!1),u=Object(p.a)(o,2),b=u[0],j=u[1],f=Object(r.useState)(),m=Object(p.a)(f,2),x=m[0],O=m[1];function v(e){var t=e.response.data.message;s(t),j(!1)}function g(){return(g=Object(d.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ce.get();case 3:t=e.sent,n=t.content,O(n),j(!0),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),v(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}return Object(r.useEffect)((function(){!function(){g.apply(this,arguments)}()}),[]),Object(r.useEffect)((function(){null!==c&&(Object(h.a)(c),s(null))}),[c]),Object(i.jsx)(se.Provider,{value:{isLoading:b,executor:x},children:b?t:"loading..."})},ue=(n(95),n(23)),le="/docData/",de={get:function(){var e=Object(d.a)(l.a.mark((function e(){var t,n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.get(le);case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),create:function(){var e=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.put(le+t._id,t);case 2:return n=e.sent,console.log(n),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),update:function(){var e=Object(d.a)(l.a.mark((function e(t){var n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,C.patch(le+w.getUserId(),t);case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},be=["nameExecutor"],je=x.a.create({baseURL:N.apiPath+"/auth/"}),pe=a.a.createContext(),fe=function(){return Object(r.useContext)(pe)},me=function(e){var t=e.children,n=Object(r.useState)({}),a=Object(p.a)(n,2),c=a[0],s=a[1],o=Object(r.useState)(null),u=Object(p.a)(o,2),b=u[0],m=u[1];function x(){return(x=Object(d.a)(l.a.mark((function e(t){var n,r,a,c,s,i,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.nameExecutor,r=Object(f.a)(t,be),"signUpData",e.prev=2,e.next=5,je.post("signUpData",Object(j.a)({},r));case 5:return a=e.sent,k(c=a.data),e.next=10,v(Object(j.a)({_id:c.userId,nameExecutor:n},r));case 10:e.next=18;break;case 12:e.prev=12,e.t0=e.catch(2),y(e.t0),s=e.t0.response.data.error,i=s.code,o=s.message,console.log(i,o),400===i&&console.log("error");case 18:case"end":return e.stop()}}),e,null,[[2,12]])})))).apply(this,arguments)}function O(){return(O=Object(d.a)(l.a.mark((function e(t){var n,r,a,c,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object.assign({},t),"updateData",e.prev=2,e.next=5,je.post("updateData",Object(j.a)({},n));case 5:r=e.sent,k(r.data),e.next=16;break;case 10:e.prev=10,e.t0=e.catch(2),y(e.t0),a=e.t0.response.data.error,c=a.code,s=a.message,console.log(c,s),400===c&&console.log("error");case 16:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}function v(e){return g.apply(this,arguments)}function g(){return(g=Object(d.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,de.update(t);case 3:n=e.sent,s((function(e){return[].concat(Object(ue.a)(e),[n])})),console.log(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),y(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function y(e){var t=e.response.data.message;m(t)}return Object(r.useEffect)((function(){null!==b&&(Object(h.a)(b),m(null))}),[b]),Object(i.jsx)(pe.Provider,{value:{signUpData:function(e){return x.apply(this,arguments)},currentUser:c,updateData:function(e){return O.apply(this,arguments)}},children:t})};var xe=function(e){for(var t=function(t){e.sort((function(e,n){return n=n.periodOfExecution.split("-"),e=e.periodOfExecution.split("-"),n[t]>e[t]?-1:n[t]<e[t]?1:0}))},n=0;n<=2;n++)t(n);return e},he=a.a.createContext(),Oe=function(){return Object(r.useContext)(he)},ve=function(e){var t=e.children,n=Object(r.useState)(null),a=Object(p.a)(n,2),c=a[0],s=a[1],o=Object(r.useState)(!1),u=Object(p.a)(o,2),b=u[0],j=u[1],f=Object(r.useState)([]),m=Object(p.a)(f,2),x=m[0],O=m[1];function v(e){var t=e.response.data.message;s(t),j(!1)}function g(){return y.apply(this,arguments)}function y(){return(y=Object(d.a)(l.a.mark((function e(){var t,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,de.get();case 3:t=e.sent,n=t.content,r=xe(n),O(r),j(!0),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),v(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}return Object(r.useEffect)((function(){g()}),[]),Object(r.useEffect)((function(){null!==c&&(Object(h.a)(c),s(null))}),[c]),Object(i.jsx)(he.Provider,{value:{docData:x,isLoading:b,getData:g},children:b?t:"loading data"})},ge=function(e){var t=e.stateDispaly,n=e.setStateDispaly,a=e.selectData,c=Object(r.useState)({inWork:[]}),s=Object(p.a)(c,2),o=s[0],u=s[1],l=ie().executor,d=fe().updateData,f=Oe().getData,m=l.map((function(e){return{label:e.name,value:e._id}}));var x=function(){n("hidden")};return Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("div",{className:"removeExecutorStyle ".concat(t),children:[Object(i.jsxs)("form",{onSubmit:function(e){e.preventDefault();try{var t=o.inWork.map((function(e){return e.value})),n=function(e,t){var n=[];return e.forEach((function(e){-1===t.indexOf(e)&&n.push(e)})),n}(a.inWork,t),r=Object(j.a)(Object(j.a)({},a),{},{inWork:n});d(r),f()}catch(c){console.log(c),console.log(c.message)}},className:"d-flex flex-column align-items-center",children:[Object(i.jsx)("div",{className:"d-flex ",children:Object(i.jsx)("div",{className:"selectContainer",children:Object(i.jsx)(ae,{options:a?function(e,t){var n,r=[],a=Object(ne.a)(e);try{for(a.s();!(n=a.n()).done;){var c,s=n.value,i=Object(ne.a)(t);try{for(i.s();!(c=i.n()).done;){var o=c.value;if(-1!==s._id.indexOf(o)){r.push(s);break}}}catch(u){i.e(u)}finally{i.f()}}}catch(u){a.e(u)}finally{a.f()}return r.map((function(e){return{label:e.name,value:e._id}}))}(l,a.inWork):m,onChange:function(e){u((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(b.a)({},e.name,e.value))}))},name:"inWork",label:"\u0421\u043d\u044f\u0442\u044c \u0441 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044f"})})}),Object(i.jsx)("button",{onClick:x,className:"btn btn-light ",children:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})]}),Object(i.jsx)("button",{className:" btn hover closeModal",onClick:x,children:"\xd7"})]})})},ye={gridTemplateColumns:"140px 1fr",margin:"0 25px"},ke=function(e){var t=e.docData,n=e.executor,a=Object(r.useState)(1),c=Object(p.a)(a,2),s=c[0],o=c[1],u=Object(r.useState)(),l=Object(p.a)(u,2),d=l[0],b=l[1],j=Object(r.useState)(),f=Object(p.a)(j,2),m=f[0],x=f[1],h=Object(r.useState)(t.length),O=Object(p.a)(h,2),v=O[0],g=O[1],y=Object(r.useState)("hidden"),k=Object(p.a)(y,2),w=k[0],N=k[1],S=d?t.filter((function(e){return"object"===typeof(t=e).inWork?t.inWork.filter((function(e){return e===d._id}))[0]:t.inWork===d._id;var t})):t;Object(r.useEffect)((function(){g(S.length)}),[S.length]);var D=function(e,t,n){var r=(t-1)*n;return Y()(e).slice(r).take(n).value()}(S,s,250),C=D.filter((function(e){return e.inWork.length>0}));return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("div",{className:"d-flex justify-content-around",children:Object(i.jsxs)("div",{children:[" \u0417\u0430\u0434\u0430\u0447 \u043a \u0438\u0441\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044e \u0432\u0441\u0435\u0433\u043e ",C.length," "]})}),Object(i.jsxs)("div",{className:"d-grid  m-4",style:ye,children:[Object(i.jsx)(te,{item:n,onItemSelect:function(e){b(e)},selectExecutor:d,handleResetFilter:function(){b()}}),S.length>0?Object(i.jsxs)("table",{className:"tableMain",children:[Object(i.jsx)(Z,{}),Object(i.jsx)(Q,{data:D,executor:n,removeExecutor:function(e){N("show"),x(e)}})]}):Object(i.jsx)("h1",{children:"\u041d\u0435\u0442 \u0437\u0430\u0434\u0430\u0447 \u043a \u0438\u0441\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044e"}),Object(i.jsx)(ge,{stateDispaly:w,setStateDispaly:N,selectData:m}),v>=250?Object(i.jsx)(ee,{itemsCount:v,pageSize:250,onPageChange:function(e){o(e)},currentPage:s,nextPage:function(){o(s+1)},prevPage:function(){o(s-1)}}):null]})]})},we=function(e){var t=e.data,n=e.executor,r=R().currentUser,a=Object(A.useHistory)(),c=G(t.periodOfExecution.split(".").reverse().join(",")),s=Number(c.split(" ")[0])<0?{color:"tomato",fontSize:"2em"}:{color:"grey"};return Object(i.jsxs)("div",{className:"d-flex flex-column align-items-center bg-secondary bg-gradien bg-opacity-10 shadow text-black p-5 m-4",children:[Object(i.jsxs)("div",{children:[t.nameDoc," \u043e\u0442 ",t.dateDoc," \u0433\u043e\u0434\u0430, \u043f\u0443\u043d\u043a\u0442 ",t.punctDoc]}),Object(i.jsxs)("p",{children:["\u0444\u043e\u0440\u043c\u0430 \u0434\u043e\u043a\u043b\u0430\u0434\u0430: ",t.typeDoc]}),Object(i.jsxs)("p",{children:["\u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043d\u0430 \u0438\u043c\u044f: ",t.nameInitiator]}),Object(i.jsxs)("p",{children:["\u0441\u0440\u043e\u043a \u0438\u0441\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f \u0434\u043e: ",t.periodOfExecution," \u0433\u043e\u0434\u0430"]}),Object(i.jsxs)("p",{style:s,children:["\u0434\u043e \u0438\u0441\u0445\u043e\u0434\u0430 \u043e\u0441\u0442\u0430\u043b\u043e\u0441\u044c: ",c]}),Object(i.jsxs)("p",{children:["\u0438\u0441\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c(\u0438):"," ",Object(i.jsx)(K,{id:t.executorName,executor:n,keys:t._id})]}),Object(i.jsxs)("h5",{children:["\u041c\u0435\u0440\u043e\u043f\u0440\u0438\u044f\u0442\u0438\u0435: ",t.executionOrder]}),Object(i.jsx)("button",{className:"btn btn-outline-secondary",onClick:function(){r&&"user"===r.type?a.replace("/userlist/".concat(r._id)):a.replace("/")},children:"\u0432\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043d\u0430\u0437\u0430\u0434"})]})},Ne=function(){var e,t=Oe(),n=t.docData,r=t.isLoading,a=ie().executor,c=Object(A.useParams)()._id,s=(e=c,n.find((function(t){return String(t._id)===e})));return void 0!==s?Object(i.jsx)(we,{data:s,executor:a}):r?Object(i.jsx)(ke,{docData:n,executor:a}):Object(i.jsx)("h1",{className:"d-flex justify-content-center mt-4",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445..."})},Se=(n(96),function(){var e=Object(r.useState)({numberDoc:"",punctDoc:"",dateDoc:"",nameDoc:"",typeDoc:"",nameInitiator:"",periodOfExecution:"",executionOrder:"",nameExecutor:[],inWork:[]}),t=Object(p.a)(e,2),n=t[0],a=t[1],c=ie().executor,s=R().currentUser,o=fe().signUpData,u=Oe().getData,l=Object(A.useHistory)(),d=c.map((function(e){return{label:e.name,value:e._id}})),f=Object(r.useState)(null),m=Object(p.a)(f,2),x=m[0],h=m[1];Object(r.useEffect)((function(){null!==x&&h(null)}),[x]);var O=Date.parse(new Date),v=function(e){var t=e.target;a((function(e){return Object(j.a)(Object(j.a)({},e),{},Object(b.a)({},t.name,t.value))}))},g=n.nameExecutor.map((function(e){return e.value})),y=function(e){return e.split("-").reverse().join(".")};return Object(i.jsxs)("div",{className:"m-4",children:[Object(i.jsx)("button",{className:"btn btn-outline-secondary",onClick:function(){l.push("/userlist/".concat(s._id))},children:"\u043d\u0430\u0437\u0430\u0434"}),Object(i.jsx)("h3",{className:"text-center",children:"\u0412\u043d\u043e\u0441\u0438\u043c \u0434\u0430\u043d\u043d\u044b\u0435 \u0434\u043b\u044f \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435"}),Object(i.jsxs)("form",{onSubmit:function(e){e.preventDefault();try{var t=Object(j.a)(Object(j.a)({},n),{},{id:O,executorName:g,inWork:g,dateDoc:y(n.dateDoc),periodOfExecution:y(n.periodOfExecution)});o(t),l.push(l.push("/userlist/".concat(s._id))),u()}catch(x){console.log(x),console.log(x.message)}},className:"d-flex flex-column align-items-center",children:[Object(i.jsxs)("div",{className:"d-flex flex-row justify-content-center flex-wrap",children:[Object(i.jsxs)("div",{className:"wrapper-field wrapper-field-left",children:[Object(i.jsx)(V,{nameLabel:"\u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0434\u043e\u043a-\u0442\u0430",name:"nameDoc",onChange:v,value:n.nameDoc,description:"\u0412\u043e\u0435\u043d\u043d\u044b\u0439 \u0441\u043e\u0432\u0435\u0442",type:"text"}),Object(i.jsx)(V,{name:"numberDoc",value:n.numberDoc,onChange:v,nameLabel:"\u043d\u043e\u043c\u0435\u0440 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430",description:"\u0448\u0442 300/500-234",type:"text"}),Object(i.jsx)(V,{name:"punctDoc",value:n.punctDoc,onChange:v,nameLabel:"\u043f\u0443\u043d\u043a\u0442 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430",description:"2.3.1",type:"text"}),Object(i.jsx)(V,{name:"dateDoc",nameLabel:"\u0434\u0430\u0442\u0430 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430",value:n.dateDoc,onChange:v,description:"12.09.2021",type:"date"})]}),Object(i.jsxs)("div",{className:"wrapper-field wrapper-field-right",children:[Object(i.jsx)(V,{onChange:v,nameLabel:"\u0438\u043d\u0438\u0446\u0438\u0430\u0442\u043e\u0440",description:"\u041f\u0443\u043f\u043a\u0438\u043d \u0410.\u0410.",name:"nameInitiator",value:n.nameInitiator,type:"text"}),Object(i.jsx)(V,{nameLabel:"\u0432\u0438\u0434 \u0434\u043e\u043a\u043b\u0430\u0434\u0430",name:"typeDoc",onChange:v,value:n.typeDoc,description:"\u043f\u043e\u044f\u0441\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u0437\u0430\u043f\u0438\u0441\u043a\u0430",type:"text"}),Object(i.jsx)(V,{onChange:v,nameLabel:"\u0438\u0441\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0434\u043e",name:"periodOfExecution",value:n.periodOfExecution,description:"2021,31,12",type:"date"})]}),Object(i.jsx)(ae,{options:d,onChange:function(e){a((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(b.a)({},e.name,e.value))}))},name:"nameExecutor",label:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0438\u0441\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044f"})]}),Object(i.jsxs)("div",{className:"input-group m-4 ",children:[Object(i.jsx)("span",{className:"input-group-text",children:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u0430"}),Object(i.jsx)("textarea",{onChange:v,className:"form-control","aria-label":"With textarea",name:"executionOrder",value:n.executionOrder,description:"\u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447\u0438"})]}),Object(i.jsx)("button",{className:"btn btn-outline-secondary",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435 \u0432 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c"})]})]})}),De=function(e){var t=e.label,n=e.value,r=e.onChange,a=e.defaultOption,c=e.options,s=e.error,o=e.name,u=Array.isArray(c)||"object"!==typeof c?c:Object.keys(c).map((function(e){return{name:c[e].name,value:c[e].id}}));return Object(i.jsxs)("div",{className:"mb-4",children:[Object(i.jsx)("label",{htmlFor:"validationCustom04",className:"form-label",children:t}),Object(i.jsxs)("select",{className:"form-select"+(s?" is-invalid":""),id:"validationCustom04",name:o,value:n,onChange:function(e){var t=e.target;r({name:t.name,value:t.value})},children:[Object(i.jsx)("option",{disabled:!0,value:"",children:a}),u&&u.map((function(e){return Object(i.jsx)("option",{value:e.value,children:e.label},e.value)}))]}),s&&Object(i.jsx)("div",{className:"invalid-feedback",children:s})]})},Ce=function(e){var t=e.options,n=e.name,r=e.onChange,a=e.value,c=e.label,s=function(e){var t=e.target;r({name:t.name,value:t.value})};return Object(i.jsxs)("div",{className:"mb-4 d-flex flex-column align-items-center",children:[Object(i.jsx)("label",{className:"form-label",children:c}),Object(i.jsx)("div",{children:t.map((function(e){return Object(i.jsxs)("div",{className:"d-flex form-check form-check-inline",children:[Object(i.jsx)("input",{className:"form-check-input",type:"radio",name:n,id:e.name+"_"+e.value,checked:e.value===a,value:e.value,onChange:s}),Object(i.jsx)("label",{className:"form-check-label mx-3",htmlFor:e.name+"_"+e.value,children:e.name})]},e.name+"_"+e.value)}))})]})},Ie=function(){var e=Object(r.useState)({email:"",password:"",name:"",executor:"",type:"user"}),t=Object(p.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)({}),s=Object(p.a)(c,2),o=s[0],u=s[1],f=Object(r.useState)(null),m=Object(p.a)(f,2),x=m[0],h=m[1],O=Object(A.useHistory)(),v=R(),g=v.signUp,y=v.signUpAdmin,k=v.currentUser,w=ie().executor.map((function(e){return{label:e.name,value:e._id}})),N=function(e){var t=e.target;a((function(e){return Object(j.a)(Object(j.a)({},e),{},Object(b.a)({},t.name,t.value))})),h(null)},S=function(e){a((function(t){return Object(j.a)(Object(j.a)({},t),{},Object(b.a)({},e.name,e.value))})),h(null)},D={email:{isRequired:{message:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u0430 \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"}},password:{isRequired:{message:"\u041f\u0430\u0440\u043e\u043b\u044c \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u0430 \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f"}}};Object(r.useEffect)((function(){C()}),[n]);var C=function(){var e=F(n,D);return u(e),0===Object.keys(e).length},I=0===Object.keys(o).length,E=function(){var e=Object(d.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),C()){e.next=4;break}return e.abrupt("return");case 4:if(e.prev=4,console.log(n),"admin"!==n.type){e.next=9;break}return e.next=9,y(n);case 9:if("user"!==n.type){e.next=12;break}return e.next=12,g(n);case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(4),u(e.t0),h(e.t0.message);case 18:case"end":return e.stop()}}),e,null,[[4,14]])})));return function(t){return e.apply(this,arguments)}}(),_={textAlign:"center",padding:"8px",borderRadius:"12px",border:"none",outline:"none",boxShadow:"1px 1px 14px #d1cbcb"};return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("button",{onClick:function(){O.push("/userlist/".concat(k._id))},children:"\u043d\u0430\u0437\u0430\u0434"}),Object(i.jsxs)("form",{style:{width:"20%"},onSubmit:E,className:"d-flex flex-column align-items-center mt-2",children:[x&&Object(i.jsx)("p",{className:"text-danger",children:x}),Object(i.jsx)(V,{name:"email",value:n.email,onChange:N,styleInput:_,nameLabel:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043b\u043e\u0433\u0438\u043d",description:"\u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043b\u043e\u0433\u0438\u043d",type:"text"}),Object(i.jsx)(V,{name:"password",value:n.password,onChange:N,styleInput:_,nameLabel:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c",description:"\u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c",type:"text"}),Object(i.jsx)(V,{name:"name",value:n.name,onChange:N,styleInput:_,nameLabel:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u0438\u043c\u044f",description:"\u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u0438\u043c\u044f",type:"text"}),Object(i.jsx)(De,{label:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u0435",defaultOption:"\u0432\u044b\u0431\u0440\u0430\u0442\u044c.....",name:"executor",options:w,onChange:S,value:n.executor,error:o.executor}),Object(i.jsx)(Ce,{options:[{name:" \u041f\u0440\u0430\u0432\u0430 \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0430",value:"admin"},{name:"\u041f\u0440\u0430\u0432\u0430 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",value:"user"}],value:n.type,name:"type",onChange:S,label:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u0438\u043f"}),Object(i.jsx)("button",{style:{border:"none",boxShadow:"0px 0px 34px #d1cbcb"},className:"btn btn-outline-secondary mt-4 d-md-flex justify-content-md-center",type:"submit",disabled:!I||x,children:"\u0432\u0432\u0435\u0441\u0442\u0438 \u0434\u0430\u043d\u043d\u044b\u0435"})]})]})},Ee=function(){var e=Object(A.useParams)().type,t=Object(r.useState)("addData"===e?e:"addUser"),n=Object(p.a)(t,2),a=n[0],c=n[1],s=function(){c((function(e){return"addData"===e?"addUser":"addData"}))};return Object(i.jsxs)("div",{className:"d-flex flex-column align-items-center",children:[Object(i.jsx)("h1",{className:"mb-4",children:"\u041f\u0430\u043d\u0435\u043b\u044c \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0430"}),"addData"===a?Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("p",{children:Object(i.jsx)("a",{role:"button",onClick:s,children:"\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"})}),Object(i.jsx)(Se,{})]}):Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("p",{children:Object(i.jsx)("a",{role:"button",onClick:s,children:"\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u0443\u044e \u0437\u0430\u0434\u0430\u0447\u0443"})}),Object(i.jsx)(Ie,{})]})]})},_e=(n(97),function(){var e=R().logOut;return Object(r.useEffect)((function(){e()}),[]),Object(i.jsx)("h1",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."})}),Ae=function(){var e=R().currentUser,t=Object(r.useState)("hidden"),n=Object(p.a)(t,2),a=n[0],c=n[1];return Object(i.jsxs)(i.Fragment,{children:[e&&"admin"===e.type?Object(i.jsxs)("div",{className:" d-flex justify-content-center  mb-4",children:[Object(i.jsx)(H.b,{className:"btn btn-secondary mx-4 ",to:"/AdminPanel",children:"\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}),Object(i.jsx)(H.b,{className:"btn btn-secondary mx-4",to:"/createNewDataTable",role:"button",children:"\u0412\u043d\u0435\u0441\u0442\u0438 \u0432 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c"})]}):null,Object(i.jsx)(ge,{stateDispaly:a,setStateDispaly:c})]})};var Ue=function(){return Object(i.jsx)(i.Fragment,{children:Object(i.jsx)(ve,{children:Object(i.jsx)(T,{children:Object(i.jsxs)(me,{children:[Object(i.jsx)($,{}),Object(i.jsx)(oe,{children:Object(i.jsxs)(A.Switch,{children:[Object(i.jsx)(A.Route,{path:"/information",component:o}),Object(i.jsx)(A.Route,{path:"/AdminPanel/:type?",component:Ee}),Object(i.jsx)(A.Route,{path:"/logout",component:_e}),Object(i.jsx)(A.Route,{path:"/userlist",component:Ae}),Object(i.jsx)(A.Route,{path:"/createNewDataTable",component:Se}),Object(i.jsx)(A.Route,{path:"/login/:type?",component:B}),Object(i.jsx)(A.Route,{exact:!0,path:"/:_id?",component:Ne})]})})]})})})})};n(98);s.a.render(Object(i.jsx)(a.a.StrictMode,{children:Object(i.jsx)(H.a,{children:Object(i.jsx)(Ue,{})})}),document.getElementById("root"))}},[[99,1,2]]]);
//# sourceMappingURL=main.c96b3bd0.chunk.js.map